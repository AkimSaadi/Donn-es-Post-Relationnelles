<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">	<xsl:output method="xml" indent="yes" doctype-system="D:\Documents\Données PR\Recettes\Recettes.dtd"/>			<xsl:template match ="/">			<Recettes>				<xsl:for-each select="//objet[@type ='recette']">					<recette>						<xsl:attribute name="id"><xsl:value-of select="@id"/> </xsl:attribute>						<titre><xsl:value-of select="info[@nom='nom']/@value"/></titre>						<xsl:if test="count(info[@nom='résumé']/*) &gt;0">						<resumé><xsl:copy-of select="info[@nom='résumé']/*"/></resumé></xsl:if>						<photo><xsl:value-of select="info[@nom='photo']/@value"/></photo>						<datePublication><xsl:value-of select="info[@nom='date_publication']/@value"/></datePublication>						<difficulté><xsl:value-of select="info[@nom='difficulté']/@value"/></difficulté>						<ingredients>								<xsl:for-each select="info[@nom='ingrédient']">									<ingredientRecette>										<ref><xsl:value-of select="@value"/></ref>  <xsl:text>  </xsl:text> <quantite><xsl:value-of select="@quantite"/></quantite>									</ingredientRecette>								</xsl:for-each>						</ingredients>						<nombrePersonne><xsl:value-of select="info[@nom='nbre_personnes']/@value"/></nombrePersonne>						<tempsPréparation><xsl:value-of select="info[@nom='Préparation']/@value"/></tempsPréparation>						<tempsCuisson><xsl:value-of select="info[@nom='Cuisson']/@value"/></tempsCuisson>						<tempsRepos><xsl:value-of select="info[@nom='Repos']/@value"/></tempsRepos>						<note><xsl:value-of select="info[@nom='note']/@value"/></note>						<xsl:for-each select="info[@nom='ingrédient']">							<ref-ingredient>								<xsl:attribute name="ref"><xsl:value-of select="@value"/> </xsl:attribute>							</ref-ingredient>						</xsl:for-each>						<ref-sous-categorie><xsl:attribute name="ref"><xsl:value-of select="info[@nom='sous-catégorie']/@value"/> </xsl:attribute></ref-sous-categorie>						<ref-auteur><xsl:attribute name="ref"><xsl:value-of select="info[@nom='auteur']/@value"/> </xsl:attribute></ref-auteur>					</recette>								</xsl:for-each>				<xsl:for-each select="//objet[@type ='auteur']">					<auteur>						<xsl:attribute name="id"><xsl:value-of select="@id"/> </xsl:attribute>						<nom><xsl:value-of select="info[@nom='idext']/@value"/></nom>						<age><xsl:value-of select="info[@nom='age']/@value"/></age>						<pays><xsl:value-of select="info[@nom='pays']/@value"/></pays>						<sexe><xsl:value-of select="info[@nom='sexe']/@value"/></sexe>						<biographie><xsl:value-of select="info[@nom='biographie']/@value"/></biographie>						<xsl:for-each select="info[@nom='recette']">							<ref-recette>								<xsl:attribute name="ref"><xsl:value-of select="@value"/> </xsl:attribute>							</ref-recette>						</xsl:for-each>					</auteur>				</xsl:for-each>				<xsl:for-each select="//objet[@type ='catégorie']">					<categoriePlat>						<xsl:attribute name="id"><xsl:value-of select="@id"/> </xsl:attribute>						<nom><xsl:value-of select="info[@nom='nom']/@value"/>  </nom>						<description><xsl:copy-of select="info[@nom='descriptif']/*"/></description>					</categoriePlat>				</xsl:for-each>				<xsl:for-each select="//objet[@type ='sous-catégorie']">					<sousCategoriePlat>						<xsl:attribute name="id"><xsl:value-of select="@id"/> </xsl:attribute>						<nom><xsl:value-of select="info[@nom='nom']/@value"/>  </nom>						<description><xsl:copy-of select="info[@nom='descriptif']/*"/></description>						<xsl:variable name="idsouscate" select="@id"/>						<nombreRecette><xsl:value-of select="count(//objet[@type='recette']/info[@nom='sous-catégorie' and @value=$idsouscate])"/> </nombreRecette>						<ref-categorie>							<xsl:attribute name="ref"><xsl:value-of select="info[@nom='catégorie']/@value"/> </xsl:attribute>							</ref-categorie>					</sousCategoriePlat>				</xsl:for-each>				<xsl:for-each select="//objet[@type ='produit']">					<produitIngredient>						<xsl:attribute name="id"><xsl:value-of select="@id"/> </xsl:attribute>						<nom><xsl:value-of select="info[@nom='nom']/@value"/>  </nom>						<xsl:for-each select="info[@nom='ingrédient']">							<ref-ingredient>								<xsl:attribute name="ref"><xsl:value-of select="@value"/> </xsl:attribute>							</ref-ingredient>						</xsl:for-each>					</produitIngredient>				</xsl:for-each>				<xsl:for-each select="//objet[@type ='ingrédient']">					<ingredient>						<xsl:attribute name="id"><xsl:value-of select="@id"/> </xsl:attribute>						<nom><xsl:value-of select="info[@nom='nom']/@value"/></nom>						<apportNutritif><xsl:value-of select="info[@nom='Apport énergétique']/@value"/></apportNutritif>						<apportEnergetique><xsl:value-of select="info[@nom='Apport nutritif']/@value"/></apportEnergetique>						<saison><xsl:value-of select="info[@nom='saison']/@value"/></saison>						<xsl:if test="count(info[@nom='descriptif']/*) &gt;0">						<description><xsl:copy-of select="info[@nom='descriptif']/*"/></description></xsl:if>						<xsl:for-each select="info[@nom='recette']">							<ref-recette>								<xsl:attribute name="ref"><xsl:value-of select="@value"/> </xsl:attribute>							</ref-recette>						</xsl:for-each>					</ingredient>				</xsl:for-each>			</Recettes>		</xsl:template></xsl:stylesheet>